var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};var version="0.0.8";$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();
var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},asyncGenerator=function(){function a(a){this.value=a}function b(b){function c(d,k){try{var e=b[d](k),h=e.value;h instanceof a?Promise.resolve(h.value).then(function(a){c("next",a)},function(a){c("throw",a)}):f(e.done?"return":
"normal",e.value)}catch(l){f("throw",l)}}function f(a,b){switch(a){case "return":d.resolve({value:b,done:!0});break;case "throw":d.reject(b);break;default:d.resolve({value:b,done:!1})}(d=d.next)?c(d.key,d.arg):g=null}var d,g;this._invoke=function(a,b){return new Promise(function(e,f){var h={key:a,arg:b,resolve:e,reject:f,next:null};g?g=g.next=h:(d=g=h,c(a,b))})};"function"!==typeof b["return"]&&(this["return"]=void 0)}$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolAsyncIterator();"function"===
typeof Symbol&&Symbol.asyncIterator&&($jscomp.initSymbol(),$jscomp.initSymbolAsyncIterator(),b.prototype[Symbol.asyncIterator]=function(){return this});b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};return{wrap:function(a){return function(){return new b(a.apply(this,arguments))}},await:function(b){return new a(b)}}}(),classCallCheck=function(a,b){if(!(a instanceof
b))throw new TypeError("Cannot call a class as a function");},inherits=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b},defaults={},registerPlugin=videojs.registerPlugin||videojs.plugin,HlsQualitySelectorPlugin=function(){function a(b,c){classCallCheck(this,a);this.player=b;this.createQualityButton();this.bindPlayerEvents()}a.prototype.getHls=function(){return this.player.tech({IWillNotUseThisInPlugins:!0}).hls};a.prototype.bindPlayerEvents=function(){var a=this;a.player.ready(function(){a.player.tech_.on(Hls.Events.MANIFEST_LOADED,a.onAddQualityLevel.bind(a))})};
a.prototype.createQualityButton=function(){var a=this.player;this._qualityButton=new (function(b){function c(){classCallCheck(this,c);return possibleConstructorReturn(this,b.call(this,a,{title:a.localize("Quality")}))}inherits(c,b);c.prototype.createItems=function(){return[]};return c}(videojs.getComponent("MenuButton")));var c=a.controlBar.children().length-2;c=a.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},c);c.addClass("vjs-quality-selector");c.menuButton_.$(".vjs-icon-placeholder").className+=
" vjs-icon-hd";c.removeClass("vjs-hidden")};a.prototype.getQualityMenuItem=function(a){var b=this.player;return new (function(b){function c(d,e,h,f){classCallCheck(this,c);d=possibleConstructorReturn(this,b.call(this,d,{label:a.label,selectable:!0,selected:a.selected||!1}));d.item=e;d.qualityButton=h;d.plugin=f;return d}inherits(c,b);c.prototype.handleClick=function(){for(var a=0;a<this.qualityButton.items.length;++a)this.qualityButton.items[a].selected(!1);this.plugin.setQuality(this.item.value);
this.selected(!0)};return c}(videojs.getComponent("MenuItem")))(b,a,this._qualityButton,this)};a.prototype.onAddQualityLevel=function(){for(var a=this,c=this.player,e=c.tech_.sourceHandler_.hls.levels,f=[],d=function(b){if(!f.filter(function(a){return a.item&&a.item.value===e[b].height}).length){var c=a.getQualityMenuItem.call(a,{label:e[b].height+"p",value:e[b].height});f.push(c)}},g=0;g<e.length;++g)d(g);f.sort(function(a,b){return"object"!==("undefined"===typeof a?"undefined":_typeof(a))||"object"!==
("undefined"===typeof b?"undefined":_typeof(b))||a.item.value<b.item.value?-1:a.item.value>b.item.value?1:0});f.push(this.getQualityMenuItem.call(this,{label:c.localize("Auto"),value:"auto",selected:!0}));this._qualityButton&&(this._qualityButton.createItems=function(){return f},this._qualityButton.update())};a.prototype.setQuality=function(a){var b=this.player.tech_.sourceHandler_.hls.levels;"auto"===a&&(jawplayer.tech_.sourceHandler_.hls.currentLevel=-1);for(var e=0;e<b.length;++e)b[e].height===
a&&(jawplayer.tech_.sourceHandler_.hls.currentLevel=e);this.player.play();this._qualityButton.unpressButton()};return a}(),onPlayerReady=function(a,b){a.addClass("vjs-hls-quality-selector");a.hlsQualitySelector=new HlsQualitySelectorPlugin(a,b)},hlsQualitySelector=function(a){var b=this;this.ready(function(){onPlayerReady(b,videojs.mergeOptions(defaults,a))})};registerPlugin("hlsQualitySelector",hlsQualitySelector);hlsQualitySelector.VERSION=version;
